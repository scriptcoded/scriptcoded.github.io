
<html>
<script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
<style>
.button{
 text-decoration:none; 
 text-align:center; 
 padding:11px 0px; 
 border:none; 
 border-radius:2px;
 
 font:18px Arial, Helvetica, sans-serif; 
 font-weight:bold; 
 color:#E5FFFF;
 background-color:#3BA4C7; 
 -webkit-box-shadow:0px 0px 20px #bababa, inset 0px 0px -7px #ffffff; 
 -moz-box-shadow: 0px 0px 20px #bababa,  inset 0px 0px -7px #ffffff;  
 box-shadow:0px 0px 20px #bababa, inset 0px 0px -7px #ffffff;
}
#calculate {
 background-image: -webkit-linear-gradient(top, #66CD00 0%, #66CD00 100%);
}
.field {
 width: 140px;
 height: 24px;
}
.fieldNoEdit {
 border: #000;
}
.popupMenuControl {
 width: 40px;
 height: 40px;
 background: #000;
 background: rgb(0, 0, 0); /* Fallback for older browsers without RGBA-support */
 background: rgba(0, 0, 0, 0.7);
 position: fixed;
 right: 0;
 bottom: 0;
 color: #fff;
 font:18px Arial, Helvetica, sans-serif; 
 font-weight:bold; 
 color:#E5FFFF;
 text-align: center;
}
.popupMenuClose {
 position: fixed;
 background: red;
 width: 100%;
}
.popupMenu {
 width: 100vw;
 background: #000;
 background: rgb(0, 0, 0); /* Fallback for older browsers without RGBA-support */
 background: rgba(0, 0, 0, 0.7);
 position: fixed;
 left: 0;
 bottom: 0;
 color: #fff;
 font:18px Arial, Helvetica, sans-serif; 
 font-weight:bold; 
 color:#E5FFFF;
 display: none;
}
.popupMenu ul {
 
}
</style>
<script>
 $(document).mouseup(function (e)
 {
  var container = $("#popupMenu");
  var containerControl = $("#popupMenuControl");
  if (!container.is(e.target) // if the target of the click isn't the container...
   && container.has(e.target).length === 0 // ... nor a descendant of the container
   && !containerControl.is(e.target))
   {
    container.slideToggle();
    containerControl.slideToggle();
   }
 });
</script>
	<body>
<div id="popupMenuControl" class="popupMenuControl" onclick="$('#popupMenu').slideToggle(); $(this).slideToggle();">
 <p>/\</p>
</div>
<div id="popupMenuClose" class="popupMenuClose"></div>
<div id="popupMenu" class="popupMenu">
 <ul>
  <li>
   <p>
    Reset
   </p>
  </li>
 </ul>
</div>
		<!--
		Medic
		Spy
		Cupid
		Warewolf
		Citizen
		-->
<div id="main-content">
<input name="playerText"id="playerText"type="text"value="Players" readonly class="button field fieldNoEdit">
<input name="players"id="players"type="text"value="10" onchange="update();" class="button field" pattern="\d*">
<br>
<input name="citizen"id="citizen"type="text"value="citizen" onchange="update();"class="button field" autocapitalize="none" spellcheck="false">
<input name="citizens"id="citizens"type="text"value="" readonly onchange="update();"class="button field fieldNoEdit">
<br>

<input name="new00"id="new00"type="text"value="medic" onchange="update();"class="button field" autocapitalize="none" spellcheck="false" autocomplete="off" autocorrect="off">
<input name="new01"id="new01"type="text"value="1" onchange="update();"class="button field" pattern="\d*">
<br>
<input name="new10"id="new10"type="text"value="spy" onchange="update();"class="button field" autocapitalize="none" spellcheck="false" autocomplete="off" autocorrect="off">
<input name="new11"id="new11"type="text"value="1" onchange="update();"class="button field" pattern="\d*">
<br>
<input name="new20"id="new20"type="text"value="cupid" onchange="update();"class="button field" autocapitalize="none" spellcheck="false" autocomplete="off" autocorrect="off">
<input name="new21"id="new21"type="text"value="1" onchange="update();"class="button field" pattern="\d*">
<br>
<input name="new10"id="new30"type="text"value="warewolf" onchange="update();"class="button field" autocapitalize="none" spellcheck="false" autocomplete="off" autocorrect="off">
<input name="new11"id="new31"type="text"value="2" onchange="update();"class="button field" pattern="\d*">
<br>
<input name="new20"id="new40"type="text"value="" onchange="update();"class="button field" autocapitalize="none" spellcheck="false" autocomplete="off" autocorrect="off">
<input name="new21"id="new41"type="text"value="0" onchange="update();"class="button field" pattern="\d*">
<br>
<input name="new10"id="new50"type="text"value="" onchange="update();"class="button field" autocapitalize="none" spellcheck="false" autocomplete="off" autocorrect="off">
<input name="new11"id="new51"type="text"value="0" onchange="update();"class="button field" pattern="\d*">
<br>
<input name="new20"id="new60"type="text"value="" onchange="update();"class="button field" autocapitalize="none" spellcheck="false" autocomplete="off" autocorrect="off">
<input name="new21"id="new61"type="text"value="0" onchange="update();"class="button field" pattern="\d*">
<br>
		
		<input type="button" id="calculate" value="Do it!" class="button" onclick="calculate()" style="width:284;"/>
<br>
		<input type="button" id="reset" value="Restart" class="button" onclick="reset()" href="MaffiaAuto.html" style="width:140;"/>
         <input type="button" id="clear" value="Clear" class="button" onclick="reload()"style="width:140;"/>
<br>
		<input type="button" id="langEn" value="English" class="button" onclick="setLang('en')" style="width:140; background-image: -webkit-linear-gradient(top, #66CD00 0%, #66CD00 100%);"/>
         <input type="button" id="langSv" value="Svenska" class="button" onclick="setLang('sv')" style="width:140;"/>

		
		<script>
var globalLang = "en";
update();

function reload()
{
location.reload(true);
alert("Everything cleared!");
}

			function update(){
playerNoteGiven=false;

citizen = document.getElementById("citizen").value;

players = document.getElementById("players").value;

new00 = document.getElementById("new00").value;
new01 = document.getElementById("new01").value;

new10 = document.getElementById("new10").value;
new11 = document.getElementById("new11").value;

new20 = document.getElementById("new20").value;
new21 = document.getElementById("new21").value;

new30 = document.getElementById("new30").value;
new31 = document.getElementById("new31").value;

new40 = document.getElementById("new40").value;
new41 = document.getElementById("new41").value;

new50 = document.getElementById("new50").value;
new51 = document.getElementById("new51").value;

new60 = document.getElementById("new60").value;
new61 = document.getElementById("new61").value;

				citizens = players-new01-new11-new21-new31-new41-new51-new61;
				rand = 0;
document.getElementById("citizens").value =citizens;

if(citizens<0){
document.getElementById("citizens").style.color = "red";
}
else {
document.getElementById("citizens").style.color = "white";
}
if(citizens==0){
document.getElementById("citizens").style.color = "yellow";
}
			}
			
			function calculate(){
if(citizens<0){
alert("Error: There are not enough players.");
return;
}
else if(citizens==0){
if(!playerNoteGiven){
alert("Note: You will experience more from the gameplay if there are atleast one " + citizen + ".");
playerNoteGiven=true;
}
}
else
playerNoteGiven=true;
				var rand = Math.floor((Math.random() * 8) + 1);

if (globalLang == "en") {
	var youAreA = "You're a ";
}
else if (globalLang == "sv") {
	var youAreA = "Du \u00e4r en ";
}
			switch(rand) {
				case 1:
					if (new01 > 0)
					{
						alert(youAreA + new00 + "!");
						new01 -=1;
					}
					else
					{
					done();
					}
				    break;
				
				case 2:
					if (new11 > 0)
					{
						alert(youAreA + new10 + "!");
						new11 -=1;
					}
					else
					{
					done();
					}
					break;
				
				case 3:
					if (new21 > 0)
					{
						alert(youAreA + new20 + "!");
						new21 -=1;
					}
					else
					{
					done();
					}
					break;
				
				case 4:
					if (new31 > 0)
					{
						alert(youAreA + new30 + "!");
						new31 -=1;
					}
					else
					{
					done();
					}
					break;
				
				case 5:
					if (new41 > 0)
					{
						alert(youAreA + new40 + "!");
						new41 -=1;
					}
					else
					{
					done();
					}
					break;

                 case 6:
					if (new51 > 0)
					{
						alert(youAreA + new50 + "!");
						new51 -=1;
					}
					else
					{
					done();
					}
					break;

                 case 7:
					if (new61 > 0)
					{
						alert(youAreA + new60 + "!");
						new61 -=1;
					}
					else
					{
					done();
					}
					break;

                 case 8:
					if (citizens > 0)
					{
						alert(youAreA + citizen + "!");
						citizens -=1;
					}
					else
					{
					done();
					}
					break;
			}
			}
			
			function done(){
				if (new01 == 0 && new11 == 0 && new21 == 0 && new31 == 0 && new41 == 0 && new51 == 0 && new61 == 0 && citizens == 0){
if (globalLang == "en") {
	alert('That was it!');
}
else if (globalLang == "sv") {
	alert('De va de!');
}
				}
				else
				{
					calculate();
				}
			}
			function reset(){
				new01 = document.getElementById("new01").value;
				new11 = document.getElementById("new11").value;
				new21 = document.getElementById("new21").value;
				new31 = document.getElementById("new31").value;
				new41 = document.getElementById("new41").value;
				new51 = document.getElementById("new51").value;
				new61 = document.getElementById("new61").value;
				citizens = document.getElementById("citizens").value;
if (globalLang == "en"){
 alert("Game restarted!");
}
else if (globalLang == "sv"){
 alert("Spel omstartat!");
}
			}
			function setLang(lang){
				globalLang = lang;
				if (lang == "en"){
					document.getElementById("playerText").value = "Players";
document.getElementById("calculate").value = "Do it!";
document.getElementById("reset").value = "Restart";
document.getElementById("clear").value = "Clear";
document.getElementById("langEn").style["background-image"] = "-webkit-linear-gradient(top, #66CD00 0%, #66CD00 100%)";
document.getElementById("langSv").style["background-image"] = "-webkit-linear-gradient(top, #3ba4c7 0%, #3ba4c7 100%)";
				}
				if (lang == "sv"){
					document.getElementById("playerText").value = "Spelare";
document.getElementById("calculate").value = "Klicka!";
document.getElementById("reset").value = "Starta om";
document.getElementById("clear").value = "Aterstall";
document.getElementById("langSv").style["background-image"] = "-webkit-linear-gradient(top, #66CD00 0%, #66CD00 100%)";
document.getElementById("langEn").style["background-image"] = "-webkit-linear-gradient(top, #3ba4c7 0%, #3ba4c7 100%)";
				}
			}
		</script>
        </div>
	</body>
<html>